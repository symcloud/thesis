seqdiag {
  Manager -> Database [label = "store"]{
    Database => MetadataManager [label = "loadByModel", return = "return metadata"];
    Database -> Database [label = "serialize model"];

    Database => EventDispatcher [label = "throw 'store' event", return = "return event results"];

    Database -> StorageAdapter [label = "store"];
    Database -> SearchAdapter [label = "index"];
  }
}
